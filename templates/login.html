{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
    <br><br>
    {% if state == 'bad' %}
      <p class="error">Invalid user name or password.</p>
    {% elif state == 'bad-username' %}
        <p class="error">Invalid username.</p>
    {% elif state == 'password-mismatch' %}
        <p class="error">Passwords don't match.</p>
    {% elif state == 'username-used' %}
        <p class="error">Username already taken.</p>
    {% endif %}

    <div class="login-page pure-u-1 pure-u-md-1">
        <form method="POST" action="{{ url_for("handle_username") }}" class="pure-form pure-form-stacked pure-u-1 pure-u-md-1-3">
            <h2>Returning Users</h2>
            <input type="hidden" name="url" value="{{ request.args.url }}">

            <label for="login-username">Username</label>
              <input type="text" name="login-username" id="login-username">

            <label for="login-password">Password</label>
              <input type="password" name="login-password" id="login-password">

            <button type="submit" class="pure-button pure-button-primary">Log In</button>
        </form>

        <form method="POST" action="{{ url_for("create_user") }}" class="pure-form pure-form-stacked pure-u-1 pure-u-md-1-3">
            <h2>New Users</h2>
            <input type="hidden" name="url" value="{{ request.args.url }}">

            <label for="email">Email</label>
              <input type="email" name="email" id="email" maxlength="100">

            <label for="create-username">Username</label>
              <input type="text" name="create-username" id="create-username" maxlength="20">

            <label for="display">Display Name</label>
            <input type="text" name="display" id="display">

            <label for="create-password">Password</label>
              <input type="password" name="create-password" id="create-password">

            <label for="create-confirm">Confirm Password</label>
              <input type="password" name="create-confirm" id="create-confirm">

            <button type="submit" class="pure-button pure-button-primary">Create Account</button>
        </form>
    </div>
{% endblock %}